import{m as nt,a as O,d as g}from"./vue.7fbf5199.js";import{N as ft,am as Ct,ay as yt,az as xt,aA as $t,y as i,ae as Y,aB as q,aC as st,aD as bt,aE as St,aF as kt,aG as Tt,aH as wt,aI as Mt,aJ as At,aK as Dt,l as Rt,aL as Pt,aM as Lt,aN as Et,aO as Ft,aP as It,aQ as Bt,aR as Ot,o as Nt,aS as Ut,n as Vt,aT as zt,aU as jt,aV as at,aW as it,aX as Kt,aY as ot,aZ as lt,a_ as Gt,ag as Ht,a$ as Qt,Q as b,s as u,a1 as w,a2 as o,a4 as l,a5 as V,b0 as D,b1 as R,b2 as h,C as c,b3 as z,b4 as ct,b5 as Wt,f as M,b6 as _t,A as W,b7 as Z,b8 as S,D as rt,b9 as X,t as B,ba as Xt,bb as Yt,af as qt,bc as Zt,bd as Jt,be as te,bf as ee,B as G,bg as H,a as se,bh as N,x as U,_ as re,bi as ne,a3 as ae}from"./index.1e4a4031.js";import{_ as ie}from"./VCheckbox.722e0824.js";import"./index.0d51e08a.js";const Q=ft(xt,yt({onVisible:["init"]}),Ct).extend({name:"v-pagination",directives:{Resize:$t},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:s=>s%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const s=parseInt(this.totalVisible,10);if(s===0||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const t=Math.min(Math.max(0,s)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=t)return this.range(1,this.length);const e=t%2===0?1:0,r=Math.floor(t/2),a=this.length-r+1+e;if(this.value>r&&this.value<a){const m=this.length,v=this.value-r+2,d=this.value+r-2-e,p=v-1===1+1?2:"...",C=d+1===m-1?d+1:"...";return[1,p,...this.range(v,d),C,this.length]}else if(this.value===r){const n=this.value+r-1-e;return[...this.range(1,n),"...",this.length]}else if(this.value===a){const n=this.value-r+1;return[1,"...",...this.range(n,this.length)]}else return[...this.range(1,r),"...",...this.range(a,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const s=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((s-96)/42)},next(s){s.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(s){s.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(s,t){const e=[];s=s>0?s:1;for(let r=s;r<=t;r++)e.push(r);return e},genIcon(s,t,e,r,a){return s("li",[s("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":e},attrs:{disabled:e,type:"button","aria-label":a},on:e?{}:{click:r}},[s(i,[t])])])},genItem(s,t){const e=t===this.value&&(this.color||"primary"),r=t===this.value,a=r?this.currentPageAriaLabel:this.pageAriaLabel;return s("button",this.setBackgroundColor(e,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":t===this.value},attrs:{type:"button","aria-current":r,"aria-label":this.$vuetify.lang.t(a,t)},on:{click:()=>this.$emit("input",t)}}),[t.toString()])},genItems(s){return this.items.map((t,e)=>s("li",{key:e},[isNaN(Number(t))?s("span",{class:"v-pagination__more"},[t.toString()]):this.genItem(s,t)]))},genList(s,t){return s("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},t)}},render(s){const t=[this.genIcon(s,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(s),this.genIcon(s,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return s("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(s,t)])}});const oe={name:"TorrentRightClickMenu",mixins:[Y,q],props:{hash:String,touchmode:Boolean,x:Number},data(){return{isRightside:!0,priority_options:[{name:"top",icon:st,action:"topPrio"},{name:"increase",icon:bt,action:"increasePrio"},{name:"decrease",icon:St,action:"decreasePrio"},{name:"bottom",icon:kt,action:"bottomPrio"}],mdiDelete:Tt,mdiPlay:wt,mdiPause:Mt,mdiSelect:At,mdiFastForward:Dt,mdiFolder:Rt,mdiRenameBox:Pt,mdiInformation:Lt,mdiMagnet:Et,mdiAccountGroup:Ft,mdiPlaylistCheck:It,mdiPriorityHigh:st,mdiBullhorn:Bt,mdiChevronRight:Ot,mdiLabel:Nt,mdiLabelOff:Ut,mdiTag:Vt,mdiTagOff:zt,mdiHeadCog:jt,mdiCheckboxMarked:at,mdiCheckboxBlankOutline:it,mdiSpeedometerSlow:Kt,mdiChevronUp:ot,mdiChevronDown:lt,mdiContentCopy:Gt,mdiDownload:Ht,mdiDownloadMultiple:Qt}},computed:{...nt(["getCategories","getAvailableTags","getTorrent"]),...O(["selected_torrents"]),availableCategories(){const s=[{name:"None",value:""}];return s.push(...this.getCategories().map(t=>({name:t.name,value:t.name}))),s},availableTags(){return this.getAvailableTags()},hashes(){return this.multiple?this.selected_torrents:[this.torrent.hash]},multiple(){return this.selected_torrents.length>1},torrent(){return this.getTorrent(this.hash)}},watch:{x(){this.detectRightside()}},mounted(){this.detectRightside()},methods:{detectRightside(){this.isRightside=document.documentElement.clientWidth<this.x+380},resume(){b.resumeTorrents(this.hashes)},pause(){b.pauseTorrents(this.hashes)},location(){this.createModal("ChangeLocationModal",{hashes:this.multiple?this.selected_torrents:[this.torrent.hash]})},rename(){this.createModal("RenameModal",{hash:this.torrent.hash})},reannounce(){b.reannounceTorrents(this.hashes)},removeTorrent(){return this.$store.state.selected_torrents=this.hashes,this.createModal("ConfirmDeleteModal")},recheck(){b.recheckTorrents(this.hashes)},showInfo(){this.$router.push({name:"torrentDetail",params:{hash:this.torrent.hash}})},setPriority(s){b.setTorrentPriority(this.hashes,s)},setLimit(s){this.createModal("SpeedLimitModal",{hash:this.torrent.hash,mode:s})},setShareLimit(){this.createModal("ShareLimitModal",{hash:this.torrent.hash})},forceResume(){b.forceStartTorrents(this.hashes)},setCategory(s){b.setCategory(this.hashes,s)},setTag(s){this.torrent.tags&&this.torrent.tags.includes(s)?this.removeTag(s):this.addTag(s)},addTag(s){b.addTorrentTag(this.hashes,[s])},removeTag(s){b.removeTorrentTag(this.hashes,[s])},toggleSeq(){b.toggleSequentialDownload(this.hashes)},toggleFL(){b.toggleFirstLastPiecePriority(this.hashes)},toggleAutoTMM(){b.setAutoTMM(this.hashes,!this.torrent.auto_tmm)},copyToClipBoard(s){if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(s);else{const t=document.createElement("textarea");if(t.value=s,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select(),!document.execCommand("copy")){this.$toast.error(this.$t("toast.copyNotSupported").toString());return}document.body.removeChild(t)}this.$toast.success(this.$t("toast.copySuccess").toString())},async exportTorrents(){this.hashes.forEach(s=>{b.exportTorrent(s).then(t=>{const e=window.URL.createObjectURL(t),r=document.createElement("a");r.href=e,r.style.opacity="0",r.setAttribute("download",`${s}.torrent`),document.body.appendChild(r),r.click(),document.body.removeChild(r)})})}}};var le=function(){var t=this,e=t._self._c;return t.torrent?e(w,{staticClass:"noselect"},[e(o,{attrs:{link:""},on:{click:t.resume}},[e(i,[t._v(t._s(t.mdiPlay))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.resume")))+" ")])],1),e(o,{attrs:{link:""},on:{click:t.forceResume}},[e(i,[t._v(t._s(t.mdiFastForward))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.forceResume")))+" ")])],1),e(o,{attrs:{link:""},on:{click:t.pause}},[e(i,[t._v(t._s(t.mdiPause))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("pause")))+" ")])],1),e(V),e(o,{attrs:{link:""},on:{click:t.removeTorrent}},[e(i,{attrs:{color:"red"}},[t._v(" "+t._s(t.mdiDelete)+" ")]),e(l,{staticClass:"ml-2 red--text list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("delete")))+" ")])],1),e(V),e(D,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(o,t._g({attrs:{link:""}},r),[e(i,[t._v(t._s(t.mdiHeadCog))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.advanced")))+" ")]),e(R,[e(i,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}],null,!1,423988274)},[e(w,[e(o,{attrs:{link:""},on:{click:t.location}},[e(i,[t._v(t._s(t.mdiFolder))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.changeLocation")))+" ")])],1),t.multiple?t._e():e(o,{attrs:{link:""},on:{click:t.rename}},[e(i,[t._v(t._s(t.mdiRenameBox))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.rename")))+" ")])],1),e(o,{attrs:{link:""},on:{click:t.recheck}},[e(i,[t._v(t._s(t.mdiPlaylistCheck))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.forceRecheck")))+" ")])],1),e(o,{attrs:{link:""},on:{click:t.reannounce}},[e(i,[t._v(t._s(t.mdiBullhorn))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.forceReannounce")))+" ")])],1),t.multiple?t._e():e(o,{attrs:{link:""},on:{click:t.toggleSeq}},[e(i,[t._v(" "+t._s(t.torrent.seq_dl?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.sequentialDownload")))+" ")])],1),t.multiple?t._e():e(o,{attrs:{link:""},on:{click:t.toggleFL}},[e(i,[t._v(" "+t._s(t.torrent.f_l_piece_prio?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.firstLastPriority")))+" ")])],1),t.multiple?t._e():e(o,{attrs:{link:""},on:{click:t.toggleAutoTMM}},[e(i,[t._v(" "+t._s(t.torrent.auto_tmm?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.advanced.automaticTorrentManagement")))+" ")])],1)],1)],1),e(D,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(o,t._g({attrs:{link:""}},r),[e(i,[t._v(t._s(t.mdiPriorityHigh))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.prio.prio")))+" ")]),e(R,[e(i,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}],null,!1,677833293)},[e(w,t._l(t.priority_options,function(r,a){return e(o,{key:a,attrs:{link:""},on:{click:function(n){return t.setPriority(r.action)}}},[e(i,[t._v(t._s(r.icon))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.prio."+r.name)))+" ")])],1)}),1)],1),t.availableTags.length>0?e(D,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(o,t._g({attrs:{link:""}},r),[e(i,[t._v(t._s(t.mdiTag))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.tags")))+" ")]),e(R,[e(i,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}],null,!1,4242683564)},[e(w,t._l(t.availableTags,function(r,a){return e(o,{key:a,attrs:{link:""},on:{click:function(n){return t.setTag(r)}}},[e(i,[t._v(" "+t._s(t.torrent.tags!==null&&t.torrent.tags.includes(r)?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(r)+" ")])],1)}),1)],1):e(o,[e(i,[t._v(t._s(t.mdiTagOff))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.notags")))+" ")])],1),t.availableCategories.length>1?e(D,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(o,t._g({attrs:{link:""}},r),[e(i,[t._v(t._s(t.mdiLabel))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.category")))+" ")]),e(R,[e(i,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}],null,!1,3210712233)},[e(w,t._l(t.availableCategories,function(r,a){return e(o,{key:a,attrs:{link:""},on:{click:function(n){return t.setCategory(r.value)}}},[e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(r.name)+" ")])],1)}),1)],1):e(o,[e(i,[t._v(t._s(t.mdiLabelOff))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.nocategory")))+" ")])],1),t.multiple?t._e():e(D,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(o,t._g({attrs:{link:""}},r),[e(i,[t._v(t._s(t.mdiSpeedometerSlow))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.limit")))+" ")]),e(R,[e(i,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}],null,!1,3722793998)},[e(w,[e(o,{on:{click:function(r){return t.setLimit("download")}}},[e(i,[t._v(t._s(t.mdiChevronDown))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("download"))+" ")])],1),e(o,{on:{click:function(r){return t.setLimit("upload")}}},[e(i,[t._v(t._s(t.mdiChevronUp))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("upload"))+" ")])],1),e(o,{on:{click:function(r){return t.setShareLimit()}}},[e(i,[t._v(t._s(t.mdiAccountGroup))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("share"))+" ")])],1)],1)],1),t.multiple?t._e():e(D,{attrs:{"open-on-hover":!t.touchmode,top:"","offset-x":"",transition:t.isRightside?"slide-x-reverse-transition":"slide-x-transition",left:t.isRightside},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(o,t._g({attrs:{link:""}},r),[e(i,[t._v(t._s(t.mdiContentCopy))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.copy")))+" ")]),e(R,[e(i,[t._v(t._s(t.mdiChevronRight))])],1)],1)]}}],null,!1,3002562102)},[e(w,[e(o,{on:{click:function(r){return t.copyToClipBoard(t.torrent.name)}}},[e(i,[t._v(t._s(t.mdiContentCopy))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("name"))+" ")])],1),e(o,{on:{click:function(r){return t.copyToClipBoard(t.torrent.hash)}}},[e(i,[t._v(t._s(t.mdiContentCopy))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("hash"))+" ")])],1),e(o,{on:{click:function(r){return t.copyToClipBoard(t.torrent.magnet)}}},[e(i,[t._v(t._s(t.mdiMagnet))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t.$t("magnet"))+" ")])],1)],1)],1),e(o,{attrs:{link:""},on:{click:t.exportTorrents}},[e(i,[t._v(t._s(t.multiple?t.mdiDownloadMultiple:t.mdiDownload))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$tc("rightClick.export",t.multiple?2:1)))+" ")])],1),t.multiple?t._e():e(V),t.multiple?t._e():e(o,{attrs:{link:""},on:{click:t.showInfo}},[e(i,[t._v(t._s(t.mdiInformation))]),e(l,{staticClass:"ml-2 list-item__title"},[t._v(" "+t._s(t._f("titleCase")(t.$t("rightClick.info")))+" ")])],1)],1):t._e()},ce=[],_e=u(oe,le,ce,!1,null,"53644de6",null,null);const ut=_e.exports,ue=g({name:"Size",props:{torrent:h}});var de=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.size")))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.size))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.size))+" ")])])])},he=[],me=u(ue,de,he,!1,null,null,null,null);const pe=me.exports,ve=g({name:"Progress",mixins:[z],props:{torrent:h}});var ge=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{staticClass:"mr-4",attrs:{xs12:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.progress")))+" ")]),e(ct,{style:t.phoneLayout?"":"width: 80%;",attrs:{value:t.torrent.progress,height:"20",color:`torrent-${t.state}`,rounded:""}},[e("span",{staticClass:"caption white--text"},[t._v(" "+t._s(t.torrent.progress)+"% ")])])],1)},fe=[],Ce=u(ve,ge,fe,!1,null,null,null,null);const ye=Ce.exports,xe=g({name:"Download",props:{torrent:h}});var $e=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("download"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.dlspeed,1))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.dlspeed))+"/s ")])])])},be=[],Se=u(xe,$e,be,!1,null,null,null,null);const ke=Se.exports,Te=g({name:"Downloaded",props:{torrent:h}});var we=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("downloaded"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.dloaded,2))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.dloaded))+" ")])])])},Me=[],Ae=u(Te,we,Me,!1,null,null,null,null);const De=Ae.exports,Re=g({name:"Directory",props:{torrent:h}});var Pe=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",md2:"",sm1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.directory")))+" ")]),e("div",{staticClass:"truncate",attrs:{title:t.torrent.savePath}},[t._v(" "+t._s(t.torrent.savePath)+" ")])])},Le=[],Ee=u(Re,Pe,Le,!1,null,null,null,null);const Fe=Ee.exports,Ie=g({name:"Ratio",props:{torrent:h}});var Be=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("ratio"))+" ")]),e("div",[t._v(t._s(t.torrent.ratio))])])},Oe=[],Ne=u(Ie,Be,Oe,!1,null,null,null,null);const Ue=Ne.exports,Ve=g({name:"Upload",props:{torrent:h}});var ze=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("upload"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.upspeed,1))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.upspeed,1))+"/s ")])])])},je=[],Ke=u(Ve,ze,je,!1,null,null,null,null);const Ge=Ke.exports,He=g({name:"ETA",props:{torrent:h}});var Qe=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("ETA"))+" ")]),e("div",[t._v(" "+t._s(t.torrent.eta)+" ")])])},We=[],Xe=u(He,Qe,We,!1,null,null,null,null);const Ye=Xe.exports,qe=g({name:"DashboardPeers",props:{torrent:h}});var Ze=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("peers"))+" ")]),e("div",[t._v(" "+t._s(t.torrent.num_leechs)+" "),e("span",{staticClass:"grey--text caption"},[t._v(" /"+t._s(t.torrent.available_peers)+" ")])])])},Je=[],ts=u(qe,Ze,Je,!1,null,null,null,null);const es=ts.exports,ss=g({name:"Seeds",props:{torrent:h}});var rs=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("seeds"))+" ")]),e("div",[t._v(" "+t._s(t.torrent.num_seeds)+" "),e("span",{staticClass:"grey--text caption"},[t._v(" /"+t._s(t.torrent.available_seeds)+" ")])])])},ns=[],as=u(ss,rs,ns,!1,null,null,null,null);const is=as.exports,os=g({name:"Status",mixins:[z],props:{torrent:h},computed:{stateString(){if(!this.torrent)return Wt.UNKNOWN;let s=this.torrent.state.toString();return this.torrent.forced&&(s=`[F] ${s}`),s}}});var ls=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("status"))+" ")]),e(M,{staticClass:"caption white--text px-2",class:t.state,staticStyle:{height:"1.3em"}},[t._v(" "+t._s(t.stateString)+" ")])],1)},cs=[],_s=u(os,ls,cs,!1,null,null,null,null);const us=_s.exports,ds=g({name:"Tracker",mixins:[z],props:{torrent:h},computed:{trackerString(){return _t(this.torrent.tracker)}}});var hs=function(){var t=this,e=t._self._c;return t._self._setupProxy,t.torrent.tracker?e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("tracker"))+" ")]),e(M,{staticClass:"moving white--text caption",attrs:{small:""}},[t._v(" "+t._s(t.trackerString)+" ")])],1):t._e()},ms=[],ps=u(ds,hs,ms,!1,null,null,null,null);const vs=ps.exports,gs=g({name:"Category",props:{torrent:h}});var fs=function(){var t=this,e=t._self._c;return t._self._setupProxy,t.torrent.category?e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("category"))+" ")]),e(M,{staticClass:"upload white--text caption",attrs:{small:""}},[t._v(" "+t._s(t.torrent.category)+" ")])],1):t._e()},Cs=[],ys=u(gs,fs,Cs,!1,null,null,null,null);const xs=ys.exports,$s=g({name:"Tags",mixins:[z],props:{torrent:h}});var bs=function(){var t=this,e=t._self._c;return t._self._setupProxy,t.torrent.tags&&t.torrent.tags.length?e(c,{attrs:{xs6:"",sm2:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("tags"))+" ")]),e(W,{staticClass:"ma-0",attrs:{wrap:""}},t._l(t.torrent.tags,function(r){return e(M,{key:r,staticClass:"tags white--text caption mb-1 mx-1",attrs:{small:""}},[t._v(" "+t._s(r)+" ")])}),1)],1):t._e()},Ss=[],ks=u($s,bs,Ss,!1,null,null,null,null);const Ts=ks.exports,ws=g({name:"AddedOn",props:{torrent:h}});var Ms=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm2:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.added")))+" ")]),e("div",[t._v(t._s(t.torrent.added_on))])])},As=[],Ds=u(ws,Ms,As,!1,null,null,null,null);const Rs=Ds.exports,Ps=g({name:"Uploaded",props:{torrent:h}});var Ls=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("uploaded"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.uploaded))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.uploaded))+" ")])])])},Es=[],Fs=u(Ps,Ls,Es,!1,null,null,null,null);const Is=Fs.exports,Bs=g({name:"UploadedSession",props:{torrent:h}});var Os=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm2:"",md2:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("torrent.uploadedSession"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.uploaded_session))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.uploaded_session))+" ")])])])},Ns=[],Us=u(Bs,Os,Ns,!1,null,null,null,null);const Vs=Us.exports,zs=g({name:"Availability",props:{torrent:h},computed:{availability(){return this.torrent&&this.torrent.availability!==-1?this.torrent.availability:"N/A"}}});var js=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.availability")))+" ")]),e("div",[t._v(" "+t._s(t.availability)+" ")])])},Ks=[],Gs=u(zs,js,Ks,!1,null,null,null,null);const Hs=Gs.exports,Qs=g({name:"LastActivity",props:{torrent:h}});var Ws=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.last_activity")))+" ")]),e("div",[t._v(t._s(t.torrent.last_activity))])])},Xs=[],Ys=u(Qs,Ws,Xs,!1,null,null,null,null);const qs=Ys.exports,Zs=g({name:"CompletedOn",props:{torrent:h}});var Js=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm2:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("titleCase")(t.$t("torrent.completed_on")))+" ")]),e("div",[t._v(t._s(t.torrent.completed_on))])])},tr=[],er=u(Zs,Js,tr,!1,null,null,null,null);const sr=er.exports,rr=g({name:"GlobalSpeed",props:{torrent:h}});var nr=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("globalSpeed"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.globalSpeed,1))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.globalSpeed))+"/s ")])])])},ar=[],ir=u(rr,nr,ar,!1,null,null,null,null);const or=ir.exports,lr=g({name:"GlobalVolume",props:{torrent:h}});var cr=function(){var t=this,e=t._self._c;return t._self._setupProxy,e(c,{attrs:{xs6:"",sm1:"",md1:""}},[e("div",{staticClass:"caption grey--text"},[t._v(" "+t._s(t.$t("globalVolume"))+" ")]),e("div",[t._v(" "+t._s(t._f("getDataValue")(t.torrent.globalVolume))+" "),e("span",{staticClass:"caption grey--text"},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.globalVolume))+" ")])])])},_r=[],ur=u(lr,cr,_r,!1,null,null,null,null);const dr=ur.exports,hr=Object.freeze(Object.defineProperty({__proto__:null,Size:pe,CompletedOn:sr,LastActivity:qs,Progress:ye,Download:ke,Directory:Fe,Ratio:Ue,Upload:Ge,ETA:Ye,Peers:es,Seeds:is,Status:us,Tracker:vs,Category:xs,Tags:Ts,AddedOn:Rs,Uploaded:Is,UploadedSession:Vs,Downloaded:De,Availability:Hs,GlobalSpeed:or,GlobalVolume:dr},Symbol.toStringTag,{value:"Module"}));const mr={name:"DesktopCard",components:{...hr},props:{torrent:h},computed:{...O(["webuiSettings"]),properties(){return this.torrent.progress===100?this.webuiSettings.doneDesktopTorrentProperties.filter(s=>s.active):this.webuiSettings.busyDesktopTorrentProperties.filter(s=>s.active)}}};var pr=function(){var t=this,e=t._self._c;return e(Z,{staticClass:"ma-0 px-4 py-2 ml-0 flex-gap",attrs:{row:"",wrap:""}},[e(c,{attrs:{xs12:""}},[e("div",{staticClass:"truncate"},[t._v(" "+t._s(t.torrent.name)+" ")])]),t._l(t.properties,function(r){return e(r.name,{key:r.name,tag:"component",attrs:{torrent:t.torrent}})})],2)},vr=[],gr=u(mr,pr,vr,!1,null,"2d124180",null,null);const dt=gr.exports;const fr={name:"MobileCard",props:{torrent:h},data:()=>({mdiChevronUp:ot,mdiChevronDown:lt}),computed:{...O(["webuiSettings"]),stateString(){return this.torrent.forced?`[F] ${this.torrent.state}`:this.torrent.state},trackerHost(){return _t(this.torrent.tracker)},properties(){return this.torrent.progress===100?this.webuiSettings.doneMobileCardProperties:this.webuiSettings.busyMobileCardProperties},isStatusActive(){return this.properties.find(s=>s.name===S.STATUS).active},isTrackerActive(){return this.properties.find(s=>s.name===S.TRACKER).active},isCategoryActive(){return this.properties.find(s=>s.name===S.CATEGORY).active},isTagsActive(){return this.properties.find(s=>s.name===S.TAGS).active},isSizeActive(){return this.properties.find(s=>s.name===S.SIZE).active},isProgressActive(){return this.properties.find(s=>s.name===S.PROGRESS).active},isRatioActive(){return this.properties.find(s=>s.name===S.RATIO).active},isUploadedActive(){return this.properties.find(s=>s.name===S.UPLOADED).active},isEtaActive(){return this.properties.find(s=>s.name===S.ETA).active},isSeedsActive(){return this.properties.find(s=>s.name===S.SEEDS).active},isPeersActive(){return this.properties.find(s=>s.name===S.PEERS).active},isDownloadActive(){return this.properties.find(s=>s.name===S.DOWNLOAD).active},isUploadActive(){return this.properties.find(s=>s.name===S.UPLOAD).active}}};var Cr=function(){var t=this,e=t._self._c;return e(Z,{staticClass:"ma-0 pa-1",attrs:{row:"",wrap:""}},[e(c,{staticClass:"ma-1",attrs:{xs12:"",row:""}},[e("span",{staticClass:"subtitle-1",staticStyle:{"line-height":"1.3em","font-size":"0.95em !important"}},[t._v(" "+t._s(t.torrent.name)+" ")])]),e(c,{staticClass:"ma-1 mt-0 chipgap",attrs:{xs12:"",row:""}},[t.isStatusActive?e(M,{staticClass:"caption white--text",class:t.torrent.state.toLowerCase(),staticStyle:{height:"20px"},attrs:{small:""}},[t._v(" "+t._s(t.stateString)+" ")]):t._e(),t.isTrackerActive&&t.torrent.tracker?e(M,{staticClass:"trackers caption white--text",staticStyle:{height:"20px"},attrs:{small:""}},[t._v(" "+t._s(t.trackerHost)+" ")]):t._e(),t.isCategoryActive&&t.torrent.category?e(M,{staticClass:"upload caption white--text",staticStyle:{height:"20px"},attrs:{small:""}},[t._v(" "+t._s(t.torrent.category)+" ")]):t._e(),t._l(t.torrent.tags,function(r){return t.isTagsActive&&t.torrent.tags?e(M,{key:r,staticClass:"tags caption white--text",staticStyle:{height:"20px"},attrs:{small:""}},[t._v(" "+t._s(r)+" ")]):t._e()})],2),e(c,{staticClass:"pa-0 ma-1 row spangap",attrs:{xs12:""}},[t.isSizeActive?e("span",[e("span",{staticClass:"downloaded"},[e("span",{staticClass:"body-2"},[t._v(t._s(t._f("getDataValue")(t.torrent.dloaded))+" ")]),e("span",{staticClass:"grey--text caption"},[t._v(t._s(t._f("getDataUnit")(t.torrent.dloaded)))])]),e("span",{staticClass:"grey--text caption"},[t._v("/")]),e("span",{staticClass:"size"},[e("span",{staticClass:"body-2"},[t._v(t._s(t._f("getDataValue")(t.torrent.size))+" ")]),e("span",{staticClass:"grey--text caption"},[t._v(t._s(t._f("getDataUnit")(t.torrent.size)))])])]):t._e(),t.isSizeActive&&t.isProgressActive?e("span",{staticClass:"grey--text",staticStyle:{"margin-top":"3px"}},[t._v("\u2022")]):t._e(),t.isProgressActive?e("span",{staticClass:"progress"},[e("span",{staticClass:"body-2"},[t._v(t._s(t.torrent.progress)+" ")]),e("span",{staticClass:"grey--text caption"},[t._v("%")])]):t._e(),(t.isSizeActive||t.isProgressActive)&&t.isRatioActive?e("span",{staticClass:"grey--text",staticStyle:{"margin-top":"3px"}},[t._v("\u2022")]):t._e(),t.isRatioActive?e("span",{staticClass:"ratio"},[e("span",{staticClass:"grey--text caption"},[t._v("R: ")]),e("span",{staticClass:"body-2"},[t._v(t._s(t.torrent.ratio))])]):t._e(),(t.isSizeActive||t.isProgressActive||t.isRatioActive)&&t.isUploadedActive?e("span",{staticClass:"grey--text",staticStyle:{"margin-top":"3px"}},[t._v("\u2022")]):t._e(),t.isUploadedActive?e("span",{staticClass:"uploaded"},[e("span",{staticClass:"body-2"},[t._v(t._s(t._f("getDataValue")(t.torrent.uploaded))+" ")]),e("span",{staticClass:"grey--text caption"},[t._v(t._s(t._f("getDataUnit")(t.torrent.uploaded)))])]):t._e(),e(rt),t.isEtaActive?e("span",{staticClass:"body-2"},[t._v(t._s(t.torrent.eta))]):t._e()],1),e(c,{staticClass:"ma-1",attrs:{xs12:""}},[e(ct,{attrs:{rounded:"",color:"upload",height:"5",value:t.torrent.progress}})],1),e(c,{staticClass:"ma-1",attrs:{row:"",xs12:""}},[t.isSeedsActive?e("div",{staticClass:"caption grey--text"},[t._v(t._s(t.torrent.num_seeds)+"/"+t._s(t.torrent.available_seeds)+" seeds")]):t._e(),t.isSeedsActive&&t.isPeersActive?e("span",{staticClass:"mx-1 grey--text",staticStyle:{"margin-top":"2px"}},[t._v("\u2022")]):t._e(),t.isPeersActive?e("div",{staticClass:"caption grey--text"},[t._v(t._s(t.torrent.num_leechs)+"/"+t._s(t.torrent.available_peers)+" peers")]):t._e(),e(rt),e("div",[t.isDownloadActive&&t.torrent.dlspeed?e("span",[e(i,{staticClass:"grey--text",attrs:{small:""}},[t._v(" "+t._s(t.mdiChevronDown)+" ")]),e("span",{staticClass:"caption font-weight-medium grey--text"},[t._v(t._s(t._f("getDataValue")(t.torrent.dlspeed,1))+" ")]),e("span",{staticClass:"caption grey--text",staticStyle:{"font-size":"0.6em !important"}},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.dlspeed))+"/s ")])],1):t._e(),t.isUploadActive&&t.torrent.upspeed?e("span",[e(i,{staticClass:"grey--text",attrs:{small:""}},[t._v(" "+t._s(t.mdiChevronUp)+" ")]),e("span",{staticClass:"caption font-weight-medium grey--text"},[t._v(t._s(t._f("getDataValue")(t.torrent.upspeed,1))+" ")]),e("span",{staticClass:"caption grey--text",staticStyle:{"font-size":"0.6em !important"}},[t._v(" "+t._s(t._f("getDataUnit")(t.torrent.upspeed,1))+"/s ")])],1):t._e()])],1)],1)},yr=[],xr=u(fr,Cr,yr,!1,null,null,null,null);const ht=xr.exports,$r={name:"Torrent",components:{DesktopCard:dt,MobileCard:ht},mixins:[Y,q],props:{torrent:h,index:Number},computed:{...O(["selectMode"]),style(){const s=this.torrent.state.toString().toLowerCase();return`sideborder ${s} ${this.isAlreadySelected(this.torrent.hash)?`torrent-${s}`:""}`}},methods:{evtClicnk:function(s){s.shiftKey?this.selectUntil(this.torrent.hash,this.index):(X(s)||this.selectMode)&&this.selectTorrent(this.torrent.hash)}}};var br=function(){var t=this,e=t._self._c;return e(B,{staticClass:"pointer noselect elevation-0 rounded-0 ma-0 pa-0",class:t.style},[e(Z,{on:{click:t.evtClicnk}},[t.isMobile?e(ht,{attrs:{torrent:t.torrent}}):e(dt,{attrs:{torrent:t.torrent}})],1)],1)},Sr=[],kr=u($r,br,Sr,!1,null,null,null,null);const mt=kr.exports;class P{constructor(t=-1,e=0){this.location=t,this.length=e}max(t){return typeof t=="number"&&(this.length=t-this.location),this.location+this.length}isValid(){return this.location>-1}toArray(){return[this.location,this.max()]}toString(){return this.location==-1?"invalid range":"["+this.location+","+this.max()+")"}}const Tr={wordSeparators:`-/\\:()<>%._=&[]+ 	
\r`,uppercaseLetters:(()=>{const s="A".charCodeAt(0),t=[];for(let e=0;e<26;e++)t.push(String.fromCharCode(s+e));return t.join("")})(),ignoredScore:.9,skippedScore:.15,emptyQueryScore:0,maxIterations:Math.pow(2,16)},wr={longStringLength:150,maxMatchStartPct:.15,minMatchDensityPct:.75,maxMatchDensityPct:.95,beginningOfStringPct:.1};class j{constructor(t){Object.assign(this,Tr,t)}useSkipReduction(){return!0}adjustRemainingScore(t,e,r,a,n,m,v,d){return r*m.length}}class Mr extends j{constructor(t){super(Object.assign({},wr,t))}useSkipReduction(t,e,r,a,n,m,v){const d=t.length,p=d<=this.longStringLength,C=v.location/d;return p||C<this.maxMatchStartPct}adjustRemainingScore(t,e,r,a,n,m,v,d){const p=t.length<=this.longStringLength,C=d.location/t.length;let _=1,x=1-C;return a||(_=e.length/d.length,_=p&&C<=this.beginningOfStringPct&&_>=this.minMatchDensityPct?1:_,x=_>=this.maxMatchDensityPct?1:x),r*Math.min(m.length,this.longStringLength)*_*x}}function pt(s){return s instanceof j?s:new Mr(s)}const Ar=pt();new j;new j({emptyQueryScore:.9,adjustRemainingScore:function(s,t,e,r,a,n,m,v){let d=e*n.length;return r||(d+=(m.location-a.location)/2),d}});function vt(s,t,e,r=s.toLocaleLowerCase(),a=t.toLocaleLowerCase(),n=Ar,m=new P(0,s.length)){let v=0;if(t)return d(m,new P(0,t.length),new P);return n.emptyQueryScore;function d(p,C,_){if(C.length){if(C.length>p.length)return 0}else return n.ignoredScore;const x=e&&e.length;for(let y=C.length;y>0;y--){if(v>n.maxIterations)return 0;v++;const $=a.substring(C.location,C.location+y),f=Dr(r,$,new P(p.location,p.length-C.length+y));if(!f.isValid())continue;_.isValid()?_.location=Math.min(_.location,f.location):_.location=f.location,_.max(f.max()),e&&e.push(f.toArray());const A=new P(f.max(),p.max()-f.max()),L=new P(C.location+y,C.length-y),E=d(A,L,_);if(E){let T=A.location-p.location,F=!0;const I=n.useSkipReduction(s,t,E,A,p,A,f,_);if(f.location>p.location)if(I&&n.wordSeparators.indexOf(s[f.location-1])>-1)for(let k=f.location-2;k>=p.location;k--)n.wordSeparators.indexOf(s[k])>-1?T--:T-=n.skippedScore;else if(I&&n.uppercaseLetters.indexOf(s[f.location])>-1)for(let k=f.location-1;k>=p.location;k--)n.uppercaseLetters.indexOf(s[k])>-1?T--:T-=n.skippedScore;else T-=f.location-p.location,F=!1;return T+=n.adjustRemainingScore(s,t,E,F,p,A,f,_),T/=p.length,T}else e&&(e.length=x)}return 0}}vt.createConfig=pt;function Dr(s,t,e){const r=s.indexOf(t,e.location),a=new P;return r>-1&&r<e.max()&&(a.location=r,a.length=t.length),a}class Rr{constructor(t=[],e={}){const{scorer:r=vt,transformString:a=Pr,keys:n=[],sortKey:m="",minimumScore:v=0,config:d}=Array.isArray(e)?{keys:e}:e;this.scorer=r,this.minimumScore=v,this.config=d,this.transformStringFunc=a,typeof r.createConfig=="function"&&(this.config=r.createConfig(d)),this.setKeys(n,m),this.setItems(t),this.compareScoredStrings=this.compareScoredStrings.bind(this)}search(t){const e=[],{items:r,transformedItems:a,keys:n,config:m}=this,v=t?this.minimumScore:-1,d=this.transformString(t),p=r.length,C=n.length;if(typeof r[0]=="string")for(let _=0;_<p;_++){const x=r[_],y=a[_],$=[],f=this.scorer(x,t,$,y,d,m);f>v&&e.push({item:x,score:f,matches:$,_:y})}else for(let _=0;_<p;_++){const x=r[_],y=a[_],$={item:x,score:0,scoreKey:"",scoreValue:"",scores:{},matches:{},_:y},f=C?n:Object.keys(y),A=f.length;let L=0,E="",T="";for(let F=0;F<A;F++){const I=f[F],{name:k=I,scorer:gt=this.scorer}=I,J=y[k];if(J){const tt=this.getItemString(x,I),et=[],K=gt(tt,t,et,J,d,m);$.scores[k]=K,$.matches[k]=et,K>L&&(L=K,E=k,T=tt)}}L>v&&($.score=L,$.scoreKey=E,$.scoreValue=T,e.push($))}return e.sort(this.compareScoredStrings),e}setKeys(t,e){if(this.keys=t.slice(),this.sortKey=e,this.keys.length){const{scorer:r}=this;this.keys=this.keys.map(a=>{const n=a.length?{name:a,scorer:r}:a;return Array.isArray(n.name)?n.name.length>1?(n.path=n.name,n.name=n.path.join(".")):[n.name]=n.name:n.name.indexOf(".")>-1&&(n.path=n.name.split(".")),n}),this.sortKey=this.sortKey||this.keys[0].name}}setItems(t){const e=t.slice(),r=e.length,a=[],n=this.keys,m=n.length;if(typeof e[0]=="string")for(let v=0;v<r;v++)a.push(this.transformString(e[v]));else for(let v=0;v<r;v++){const d=e[v],p={},C=m?n:Object.keys(d),_=C.length;for(let x=0;x<_;x++){const y=C[x],$=this.getItemString(d,y);$&&typeof $=="string"&&(p[y.name||y]=this.transformString($))}a.push(p)}this.items=e,this.transformedItems=a}getItemString(t,e){const{name:r,path:a}=e;return a?a.reduce((n,m)=>n&&n[m],t):t[r||e]}transformString(t){return this.transformStringFunc(t)}compareScoredStrings(t,e){const r=t._,a=e._,n=typeof r=="string"?r:r[this.sortKey],m=typeof a=="string"?a:a[this.sortKey];return t.score===e.score?n===void 0||m===void 0?n===void 0&&m===void 0?0:n===void 0?1:-1:n===m?0:n<m?-1:1:e.score-t.score}}function Pr(s){return s.toLocaleLowerCase()}const Lr={name:"Dashboard",components:{Torrent:mt,TorrentRightClickMenu:ut},mixins:[q,Y],data(){return{data:null,trcMenu:{show:!1,X:0,Y:0},tmCalc:{TouchMode:!1,TouchTimer:0,LastFinger:0,LastHash:""},trcMoveTick:0,searchFilterEnabled:!1,sortEnabled:!1,sortOptions:[{value:"",text:this.$t("modals.sort.sortBy.default")},{value:"added_on",text:this.$t("modals.sort.sortBy.addedOn")},{value:"availability",text:this.$t("modals.sort.sortBy.availability")},{value:"category",text:this.$t("modals.sort.sortBy.category")},{value:"completed",text:this.$t("modals.sort.sortBy.completed")},{value:"completion_on",text:this.$t("modals.sort.sortBy.completion_on")},{value:"dlspeed",text:this.$t("modals.sort.sortBy.downloadSpeed")},{value:"downloaded",text:this.$t("modals.sort.sortBy.downloaded")},{value:"eta",text:this.$t("modals.sort.sortBy.ETA")},{value:"globalSpeed",text:this.$t("modals.sort.sortBy.globalSpeed")},{value:"globalVolume",text:this.$t("modals.sort.sortBy.globalVolume")},{value:"last_activity",text:this.$t("modals.sort.sortBy.last_activity")},{value:"name",text:this.$t("modals.sort.sortBy.name")},{value:"num_leechs",text:this.$t("modals.sort.sortBy.peers")},{value:"num_seeds",text:this.$t("modals.sort.sortBy.seeds")},{value:"priority",text:this.$t("modals.sort.sortBy.priority")},{value:"progress",text:this.$t("modals.sort.sortBy.progress")},{value:"ratio",text:this.$t("modals.sort.sortBy.ratio")},{value:"save_path",text:this.$t("modals.sort.sortBy.save_path")},{value:"size",text:this.$t("modals.sort.sortBy.size")},{value:"state",text:this.$t("modals.sort.sortBy.state")},{value:"time_active",text:this.$t("modals.sort.sortBy.timeActive")},{value:"uploaded",text:this.$t("modals.sort.sortBy.uploaded")},{value:"upspeed",text:this.$t("modals.sort.sortBy.uploadSpeed")}],mdiTextBoxSearch:Xt,mdiChevronLeftCircle:Yt,mdiMagnify:qt,mdiCheckboxBlankOutline:it,mdiCheckboxMarked:at,mdiSort:Zt,mdiArrowUpThin:Jt,mdiArrowDownThin:te}},computed:{...O(["selected_torrents","dashboard","sort_options"]),...nt(["getTorrents","getTorrentCountString","getWebuiSettings"]),torrents(){let s;return this.hasSearchFilter?s=new Rr(this.getTorrents(),["name","size","state","hash","savePath","tags","category"]).search(this.input).map(e=>e.item):s=this.getTorrents(),this.sort_options.isCustomSortEnabled&&(s.sort((t,e)=>t[this.sort_options.sort]-e[this.sort_options.sort]||t.added_on-e.added_on),this.sort_options.reverse&&s.reverse()),s},pageNumber:{get(){return this.dashboard.currentPage},set(s){this.dashboard.currentPage=s}},input:{get(){return this.dashboard.searchFilter},set:ee.debounce(function(s){this.dashboard.searchFilter=s},300)},topPagination(){return this.getWebuiSettings().topPagination},paginationSize(){return this.getWebuiSettings().paginationSize},pageCount(){const s=this.torrents.length,t=this.paginationSize;return Math.ceil(s/t)},paginatedData(){const s=(this.pageNumber-1)*this.paginationSize,t=s+this.paginationSize;return this.hasSearchFilter?this.torrents:this.torrents.slice(s,t)},torrentCountString(){return this.getTorrentCountString()},selectMode(){return this.$store.state.selectMode},hasSearchFilter(){return this.input&&this.input.length},selectedTorrentsLength(){return this.$store.state.selected_torrents.length},allTorrentsSelected(){return this.selectedTorrentsLength===this.torrents.length}},watch:{torrents:function(s){this.$store.commit("SET_CURRENT_ITEM_COUNT",s.length);const t=Math.ceil(s.length/this.paginationSize);t<this.pageNumber&&(this.pageNumber=Math.max(1,t))}},mounted(){this.$store.dispatch("INIT_INTERVALS"),document.addEventListener("keydown",this.handleKeyboardShortcut),document.addEventListener("dragenter",this.detectDragEnter),this.$store.state.selectMode=!1,window.scrollTo(0,0)},created(){this.$store.commit("FETCH_CATEGORIES"),this.$store.commit("FETCH_TAGS"),this.input&&(this.searchFilterEnabled=!0)},beforeDestroy(){this.$store.commit("REMOVE_INTERVALS"),document.removeEventListener("keydown",this.handleKeyboardShortcut),document.removeEventListener("dragenter",this.detectDragEnter)},methods:{strTouchStart(s,t){this.trcMoveTick=0,this.trcMenu.show=!1,clearTimeout(this.tmCalc.TouchTimer),s.touches.length===1&&(this.tmCalc.LastFinger=1,this.tmCalc.TouchTimer=setTimeout(()=>this.showTorrentRightClickMenu(s.touches[0],t,!0),400)),s.touches.length===2&&(this.tmCalc.LastFinger=2,this.tmCalc.LastHash===t.torrent.hash&&(s.preventDefault(),this.showTorrentRightClickMenu(s.touches[0],t,!0))),this.tmCalc.LastHash=t.torrent.hash},strTouchMove(s){this.trcMoveTick++,this.trcMenu.show===!0&&s.touches.length>1?s.preventDefault():this.trcMoveTick>1&&s.touches.length===1&&(this.tmCalc.LastFinger===1&&(this.trcMenu.show=!1),clearTimeout(this.tmCalc.TouchTimer))},strTouchEnd(s){clearTimeout(this.tmCalc.TouchTimer),this.trcMenu.show&&s.preventDefault()},showTorrentRightClickMenu(s,t,e=!1){if(this.trcMenu.show)return!1;this.data=t,s.preventDefault&&s.preventDefault(),this.tmCalc.TouchMode=e,this.trcMenu.X=s.clientX+(e?12:6),this.trcMenu.Y=s.clientY+(e?12:6),this.$nextTick(()=>{this.trcMenu.show=!0})},detectDragEnter(){return this.selected_torrents.length===0&&this.$store.state.modals.length<1&&this.createModal("AddModal",{openSuddenly:!0}),!0},showInfo(s){this.$store.state.selectMode||this.$router.push({name:"torrentDetail",params:{hash:s}})},resetSelected(){this.$store.commit("RESET_SELECTED")},resetInput(){this.input=""},toTop(){this.$vuetify.goTo(0)},toggleSelectMode(){if(this.$store.state.selectMode)return this.$store.state.selected_torrents=[],this.$store.state.selectMode=!1;this.$store.state.selectMode=!0},addModal(s){this.createModal(s)},selectAllTorrents(){if(this.allTorrentsSelected)return this.$store.state.selected_torrents=[];const s=this.torrents.map(t=>t.hash);return this.$store.state.selectMode=!0,this.$store.state.selected_torrents=s},handleKeyboardShortcut(s){if(this.$store.state.modals.length>0)return null;if(s.keyCode===65&&X(s)&&s.target?.tagName!=="INPUT"&&(s.preventDefault(),this.selectAllTorrents()),s.keyCode===70&&X(s)&&(s.preventDefault(),this.searchFilterEnabled=!0,document.getElementById("searchInput").focus()),s.keyCode===27&&(document.getElementById("searchInput").blur(),this.searchFilterEnabled=!1),s.keyCode===46)return s.preventDefault(),this.selected_torrents.length?this.createModal("ConfirmDeleteModal"):void 0}}};var Er=function(){var t=this,e=t._self._c;return e("div",{staticClass:"px-1 px-sm-5 pt-4 background noselect",on:{click:function(r){return r.target!==r.currentTarget?null:t.resetSelected.apply(null,arguments)}}},[e(W,{staticClass:"ma-0 pa-0 mb-2",on:{click:function(r){return r.target!==r.currentTarget?null:t.resetSelected.apply(null,arguments)}}},[t.topPagination&&t.isMobile?e(G,{staticClass:"align-center justify-center pa-0",attrs:{cols:"12"}},[e("div",{staticClass:"text-center"},[t.pageCount>1&&!t.hasSearchFilter?e(Q,{attrs:{length:t.pageCount,"total-visible":7},on:{input:t.toTop},model:{value:t.pageNumber,callback:function(r){t.pageNumber=r},expression:"pageNumber"}}):t._e()],1)]):t._e(),e(H,[e(B,{directives:[{name:"show",rawName:"v-show",value:t.searchFilterEnabled,expression:"searchFilterEnabled"}],staticClass:"ma-0 pa-0 transparent",attrs:{id:"searchFilter",flat:"",xs7:"",md3:""}},[e(se,{staticClass:"rounded-pill",attrs:{id:"searchInput",autofocus:"",flat:"",solo:"",clearable:"",dense:"","hide-details":"",label:"Search","prepend-inner-icon":t.mdiMagnify,height:"100%",width:"100px"},on:{"click:clear":function(r){return t.resetInput()}},model:{value:t.input,callback:function(r){t.input=r},expression:"input"}})],1)],1),e(N,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(U,t._g({staticClass:"mr-0 ml-0",attrs:{text:"",small:"",fab:"","aria-label":"Select Mode"},on:{click:function(a){t.searchFilterEnabled=!t.searchFilterEnabled}}},r),[e(i,{attrs:{color:"grey"}},[t._v(" "+t._s(t.searchFilterEnabled?t.mdiChevronLeftCircle:t.mdiTextBoxSearch)+" ")])],1)]}}])},[e("span",[t._v(t._s(t.$t("dashboard.tooltips.toggleSearch")))])]),e(N,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(U,t._g({staticClass:"mr-0 ml-0",attrs:{text:"",small:"",fab:"","aria-label":"Select Mode"},on:{click:t.toggleSelectMode}},r),[e(i,{attrs:{color:"grey"}},[t._v(" "+t._s(t.$store.state.selectMode?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")])],1)]}}])},[e("span",[t._v(t._s(t.$t("dashboard.tooltips.toggleSelect")))])]),e(H,[e(B,{directives:[{name:"show",rawName:"v-show",value:t.sortEnabled,expression:"sortEnabled"}],staticClass:"ma-0 pa-0 mt-1 transparent",attrs:{flat:""}},[e(re,{staticClass:"ml-2 mr-2",staticStyle:{"max-width":"10em"},attrs:{flat:"",solo:"",dense:"",height:"30",items:t.sortOptions,"prepend-icon":t.sort_options.reverse?t.mdiArrowUpThin:t.mdiArrowDownThin},on:{"click:prepend":function(r){t.$store.state.sort_options.reverse=!t.$store.state.sort_options.reverse}},model:{value:t.sort_options.sort,callback:function(r){t.$set(t.sort_options,"sort",r)},expression:"sort_options.sort"}})],1)],1),e(N,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(U,t._g({staticClass:"mr-0 ml-0",attrs:{text:"",small:"",fab:"","aria-label":"Sort Torrents"},on:{click:function(a){t.sortEnabled=!t.sortEnabled}}},r),[e(i,{attrs:{color:"grey"}},[t._v(" "+t._s(t.sortEnabled?t.mdiChevronLeftCircle:t.mdiSort)+" ")])],1)]}}])},[e("span",[t._v(t._s(t.$t("dashboard.tooltips.toggleSort")))])]),t.topPagination&&!t.isMobile?e(G,{staticClass:"align-center justify-center pa-0",attrs:{cols:"8"}},[e("div",{staticClass:"text-center"},[t.pageCount>1&&!t.hasSearchFilter?e(Q,{attrs:{length:t.pageCount,"total-visible":7},on:{input:t.toTop},model:{value:t.pageNumber,callback:function(r){t.pageNumber=r},expression:"pageNumber"}}):t._e()],1)]):t._e(),e(G,{staticClass:"align-center justify-center"},[e("span",{staticClass:"mr-2 text-uppercase",staticStyle:{float:"right","font-size":"0.8em"}},[t._v(" "+t._s(t.torrentCountString)+" ")])])],1),e(W,{staticClass:"ma-0 pa-0",attrs:{id:"selectAllTorrents"}},[e(ne,[e(B,{directives:[{name:"show",rawName:"v-show",value:t.selectMode,expression:"selectMode"}],staticClass:"transparent",attrs:{flat:"",height:"40"}},[e(N,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(U,t._g({staticClass:"grey--text",staticStyle:{left:"-8px"},attrs:{text:"",small:"",fab:"","aria-label":"Select Mode"},on:{click:function(a){return t.selectAllTorrents()}}},r),[e(i,[t._v(" "+t._s(t.allTorrentsSelected?t.mdiCheckboxMarked:t.mdiCheckboxBlankOutline)+" ")])],1)]}}])},[e("span",[t._v(t._s(t.$t("dashboard.tooltips.selectAll")))])]),e("span",{staticClass:"grey--text"},[t._v(t._s(t.$t("dashboard.tooltips.selectAllCaption")))])],1)],1)],1),t.torrents.length===0?e("div",{staticClass:"mt-5 text-xs-center"},[e("p",{staticClass:"grey--text"},[t._v(t._s(t.$t("dashboard.emptyTorrentList")))])]):e("div",[e(w,{staticClass:"pa-0 transparent"},t._l(t.paginatedData,function(r,a){return e(o,{key:r.hash,staticClass:"pa-0",class:t.isMobile?"mb-1":"mb-2",on:{mousedown:function(n){t.trcMenu.show=!1},touchstart:function(n){return t.strTouchStart(n,{torrent:r})},touchmove:function(n){return t.strTouchMove(n)},touchend:function(n){return t.strTouchEnd(n)},contextmenu:function(n){return t.showTorrentRightClickMenu(n,{torrent:r})},dblclick:function(n){return n.preventDefault(),t.showInfo(r.hash)}},scopedSlots:t._u([{key:"default",fn:function(){return[e(H,[e(B,{directives:[{name:"show",rawName:"v-show",value:t.selectMode,expression:"selectMode"}],staticClass:"transparent",attrs:{flat:""}},[e(R,[e(ie,{attrs:{color:"grey","input-value":t.selected_torrents.indexOf(r.hash)!==-1},on:{click:function(n){return t.selectTorrent(r.hash)}}})],1)],1)],1),e(ae,{staticClass:"pa-0 rounded"},[e(mt,{attrs:{torrent:r,index:a}}),a<t.paginatedData.length-1?e(V,{key:a}):t._e()],1)]},proxy:!0}],null,!0)})}),1),t.topPagination?t._e():e("div",{staticClass:"text-center mb-5"},[t.pageCount>1&&!t.hasSearchFilter?e(Q,{attrs:{length:t.pageCount,"total-visible":7},on:{input:t.toTop},model:{value:t.pageNumber,callback:function(r){t.pageNumber=r},expression:"pageNumber"}}):t._e()],1)],1),e(D,{attrs:{transition:"slide-y-transition","position-x":t.trcMenu.X,"position-y":t.trcMenu.Y,absolute:""},model:{value:t.trcMenu.show,callback:function(r){t.$set(t.trcMenu,"show",r)},expression:"trcMenu.show"}},[t.data?e(ut,{attrs:{hash:t.data.torrent.hash,touchmode:t.tmCalc.TouchMode,x:t.trcMenu.X}}):t._e()],1)],1)},Fr=[],Ir=u(Lr,Er,Fr,!1,null,null,null,null);const Vr=Ir.exports;export{Vr as default};
